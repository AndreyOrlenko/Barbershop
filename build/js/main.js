'use strict';
var login = document.querySelector('.user-navigation__link');
var modalOverlayLogin = document.querySelector('.modal-overlay--login');
var closeBtnLogin = modalOverlayLogin.querySelector('.modal__close');
let modal = document.querySelector('.modal');
let form = modal.querySelector('.form-login');
let modalLogin = modalOverlayLogin.querySelector('.modal--login')
let modalInputLogin = form.querySelector('.form-input--login');
let modalInputPass = form.querySelector('.form-input--pass');
let storage = localStorage.getItem('login');

login.addEventListener('click', function (evt) {
  evt.preventDefault();
  modalOverlayLogin.classList.remove('modal-overlay--js-close');
  modalOverlayLogin.classList.remove('modal-overlay--hidden');
  modalOverlayLogin.classList.add('modal-overlay--js-visible');
  if (storage){
    modalInputLogin.value = storage;
    modalInputPass.focus();
  } else {
    modalInputLogin.focus();
  }
})

form.addEventListener('submit', function (evt) {
  if(!modalInputLogin.value || !modalInputPass.value){
    evt.preventDefault();
    modalLogin.classList.add('modal-overlay--error');
    setTimeout(function() {modalLogin.classList.remove('modal-overlay--error')}, 600);
  } else {
    localStorage.setItem('login', modalInputLogin.value);
  }
});

closeBtnLogin.addEventListener('click', function (evt) {
  evt.preventDefault();
  modalOverlayLogin.classList.remove('modal-overlay--error');
  modalOverlayLogin.classList.remove('modal-overlay--js-visible');
  modalOverlayLogin.classList.add('modal-overlay--js-close');
  setTimeout(function() {modalOverlayLogin.classList.add('modal-overlay--hidden')}, 400);
})

window.addEventListener('keydown', function (evt) {
  if(evt.keyCode === 27) {
    if (!modalOverlayLogin.classList.contains('modal-overlay--hidden')){
      modalOverlayLogin.classList.remove('modal-overlay--error');
      modalOverlayLogin.classList.remove('modal-overlay--js-visible');
      modalOverlayLogin.classList.add('modal-overlay--js-close');
      setTimeout(function() {modalOverlayLogin.classList.add('modal-overlay--hidden')}, 400);
    }
  }
});





let linkMap = document.querySelector('.btn-js-map');
let modalOverlayMap = document.querySelector('.modal-overlay--map');
let closeBtnMap = modalOverlayMap.querySelector('.modal__close');

linkMap.addEventListener('click', function (evt) {
  evt.preventDefault();
  modalOverlayMap.classList.remove('modal-overlay--js-close');
  modalOverlayMap.classList.remove('modal-overlay--hidden');
  modalOverlayMap.classList.add('modal-overlay--js-visible');
})

closeBtnMap.addEventListener('click', function (evt) {
  evt.preventDefault();
  modalOverlayMap.classList.remove('modal-overlay--js-visible');
  modalOverlayMap.classList.add('modal-overlay--js-close');
  setTimeout(function() { modalOverlayMap.classList.add('modal-overlay--hidden')}, 400);
})


window.addEventListener('keydown', function (evt) {
  if(evt.keyCode === 27) {
    if (!modalOverlayMap.classList.contains('modal-overlay--hidden')){
      modalOverlayMap.classList.remove('modal-overlay--js-visible');
      modalOverlayMap.classList.add('modal-overlay--js-close');
      setTimeout(function() {modalOverlayMap.classList.add('modal-overlay--hidden')}, 400);
    }
  }
});

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiLCIuLi9ibG9ja3MvbW9kYWwtb3ZlcmxheS9tb2RhbC1vdmVybGF5LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUNEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FEbktBO0FBQ0EiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcclxuLy89aW5jbHVkZSAuLi9ibG9ja3MvbW9kYWwtb3ZlcmxheS9tb2RhbC1vdmVybGF5LmpzXHJcbiIsInZhciBsb2dpbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy51c2VyLW5hdmlnYXRpb25fX2xpbmsnKTtcclxudmFyIG1vZGFsT3ZlcmxheUxvZ2luID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsLW92ZXJsYXktLWxvZ2luJyk7XHJcbnZhciBjbG9zZUJ0bkxvZ2luID0gbW9kYWxPdmVybGF5TG9naW4ucXVlcnlTZWxlY3RvcignLm1vZGFsX19jbG9zZScpO1xyXG5sZXQgbW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWwnKTtcclxubGV0IGZvcm0gPSBtb2RhbC5xdWVyeVNlbGVjdG9yKCcuZm9ybS1sb2dpbicpO1xyXG5sZXQgbW9kYWxMb2dpbiA9IG1vZGFsT3ZlcmxheUxvZ2luLnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbC0tbG9naW4nKVxyXG5sZXQgbW9kYWxJbnB1dExvZ2luID0gZm9ybS5xdWVyeVNlbGVjdG9yKCcuZm9ybS1pbnB1dC0tbG9naW4nKTtcclxubGV0IG1vZGFsSW5wdXRQYXNzID0gZm9ybS5xdWVyeVNlbGVjdG9yKCcuZm9ybS1pbnB1dC0tcGFzcycpO1xyXG5sZXQgc3RvcmFnZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdsb2dpbicpO1xyXG5cclxubG9naW4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZXZ0KSB7XHJcbiAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgbW9kYWxPdmVybGF5TG9naW4uY2xhc3NMaXN0LnJlbW92ZSgnbW9kYWwtb3ZlcmxheS0tanMtY2xvc2UnKTtcclxuICBtb2RhbE92ZXJsYXlMb2dpbi5jbGFzc0xpc3QucmVtb3ZlKCdtb2RhbC1vdmVybGF5LS1oaWRkZW4nKTtcclxuICBtb2RhbE92ZXJsYXlMb2dpbi5jbGFzc0xpc3QuYWRkKCdtb2RhbC1vdmVybGF5LS1qcy12aXNpYmxlJyk7XHJcbiAgaWYgKHN0b3JhZ2Upe1xyXG4gICAgbW9kYWxJbnB1dExvZ2luLnZhbHVlID0gc3RvcmFnZTtcclxuICAgIG1vZGFsSW5wdXRQYXNzLmZvY3VzKCk7XHJcbiAgfSBlbHNlIHtcclxuICAgIG1vZGFsSW5wdXRMb2dpbi5mb2N1cygpO1xyXG4gIH1cclxufSlcclxuXHJcbmZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgZnVuY3Rpb24gKGV2dCkge1xyXG4gIGlmKCFtb2RhbElucHV0TG9naW4udmFsdWUgfHwgIW1vZGFsSW5wdXRQYXNzLnZhbHVlKXtcclxuICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgbW9kYWxMb2dpbi5jbGFzc0xpc3QuYWRkKCdtb2RhbC1vdmVybGF5LS1lcnJvcicpO1xyXG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpIHttb2RhbExvZ2luLmNsYXNzTGlzdC5yZW1vdmUoJ21vZGFsLW92ZXJsYXktLWVycm9yJyl9LCA2MDApO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbG9naW4nLCBtb2RhbElucHV0TG9naW4udmFsdWUpO1xyXG4gIH1cclxufSk7XHJcblxyXG5jbG9zZUJ0bkxvZ2luLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGV2dCkge1xyXG4gIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gIG1vZGFsT3ZlcmxheUxvZ2luLmNsYXNzTGlzdC5yZW1vdmUoJ21vZGFsLW92ZXJsYXktLWVycm9yJyk7XHJcbiAgbW9kYWxPdmVybGF5TG9naW4uY2xhc3NMaXN0LnJlbW92ZSgnbW9kYWwtb3ZlcmxheS0tanMtdmlzaWJsZScpO1xyXG4gIG1vZGFsT3ZlcmxheUxvZ2luLmNsYXNzTGlzdC5hZGQoJ21vZGFsLW92ZXJsYXktLWpzLWNsb3NlJyk7XHJcbiAgc2V0VGltZW91dChmdW5jdGlvbigpIHttb2RhbE92ZXJsYXlMb2dpbi5jbGFzc0xpc3QuYWRkKCdtb2RhbC1vdmVybGF5LS1oaWRkZW4nKX0sIDQwMCk7XHJcbn0pXHJcblxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGZ1bmN0aW9uIChldnQpIHtcclxuICBpZihldnQua2V5Q29kZSA9PT0gMjcpIHtcclxuICAgIGlmICghbW9kYWxPdmVybGF5TG9naW4uY2xhc3NMaXN0LmNvbnRhaW5zKCdtb2RhbC1vdmVybGF5LS1oaWRkZW4nKSl7XHJcbiAgICAgIG1vZGFsT3ZlcmxheUxvZ2luLmNsYXNzTGlzdC5yZW1vdmUoJ21vZGFsLW92ZXJsYXktLWVycm9yJyk7XHJcbiAgICAgIG1vZGFsT3ZlcmxheUxvZ2luLmNsYXNzTGlzdC5yZW1vdmUoJ21vZGFsLW92ZXJsYXktLWpzLXZpc2libGUnKTtcclxuICAgICAgbW9kYWxPdmVybGF5TG9naW4uY2xhc3NMaXN0LmFkZCgnbW9kYWwtb3ZlcmxheS0tanMtY2xvc2UnKTtcclxuICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHttb2RhbE92ZXJsYXlMb2dpbi5jbGFzc0xpc3QuYWRkKCdtb2RhbC1vdmVybGF5LS1oaWRkZW4nKX0sIDQwMCk7XHJcbiAgICB9XHJcbiAgfVxyXG59KTtcclxuXHJcblxyXG5cclxuXHJcblxyXG5sZXQgbGlua01hcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idG4tanMtbWFwJyk7XHJcbmxldCBtb2RhbE92ZXJsYXlNYXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWwtb3ZlcmxheS0tbWFwJyk7XHJcbmxldCBjbG9zZUJ0bk1hcCA9IG1vZGFsT3ZlcmxheU1hcC5xdWVyeVNlbGVjdG9yKCcubW9kYWxfX2Nsb3NlJyk7XHJcblxyXG5saW5rTWFwLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGV2dCkge1xyXG4gIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gIG1vZGFsT3ZlcmxheU1hcC5jbGFzc0xpc3QucmVtb3ZlKCdtb2RhbC1vdmVybGF5LS1qcy1jbG9zZScpO1xyXG4gIG1vZGFsT3ZlcmxheU1hcC5jbGFzc0xpc3QucmVtb3ZlKCdtb2RhbC1vdmVybGF5LS1oaWRkZW4nKTtcclxuICBtb2RhbE92ZXJsYXlNYXAuY2xhc3NMaXN0LmFkZCgnbW9kYWwtb3ZlcmxheS0tanMtdmlzaWJsZScpO1xyXG59KVxyXG5cclxuY2xvc2VCdG5NYXAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZXZ0KSB7XHJcbiAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgbW9kYWxPdmVybGF5TWFwLmNsYXNzTGlzdC5yZW1vdmUoJ21vZGFsLW92ZXJsYXktLWpzLXZpc2libGUnKTtcclxuICBtb2RhbE92ZXJsYXlNYXAuY2xhc3NMaXN0LmFkZCgnbW9kYWwtb3ZlcmxheS0tanMtY2xvc2UnKTtcclxuICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgeyBtb2RhbE92ZXJsYXlNYXAuY2xhc3NMaXN0LmFkZCgnbW9kYWwtb3ZlcmxheS0taGlkZGVuJyl9LCA0MDApO1xyXG59KVxyXG5cclxuXHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZnVuY3Rpb24gKGV2dCkge1xyXG4gIGlmKGV2dC5rZXlDb2RlID09PSAyNykge1xyXG4gICAgaWYgKCFtb2RhbE92ZXJsYXlNYXAuY2xhc3NMaXN0LmNvbnRhaW5zKCdtb2RhbC1vdmVybGF5LS1oaWRkZW4nKSl7XHJcbiAgICAgIG1vZGFsT3ZlcmxheU1hcC5jbGFzc0xpc3QucmVtb3ZlKCdtb2RhbC1vdmVybGF5LS1qcy12aXNpYmxlJyk7XHJcbiAgICAgIG1vZGFsT3ZlcmxheU1hcC5jbGFzc0xpc3QuYWRkKCdtb2RhbC1vdmVybGF5LS1qcy1jbG9zZScpO1xyXG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge21vZGFsT3ZlcmxheU1hcC5jbGFzc0xpc3QuYWRkKCdtb2RhbC1vdmVybGF5LS1oaWRkZW4nKX0sIDQwMCk7XHJcbiAgICB9XHJcbiAgfVxyXG59KTsiXX0=
